# 2020.11.13

## 目标

- 能够说出js的两种作用域
- 能够区分全局变量和局部变量
- 能够说出如何在作用域链中查找变量的值

## 1.作用域

通常来说，一段程序代码中所用到的名字并不总是有效和可用的，而限定这个名字的可用性的代码范围就是这个名字的作用域。作用域的使用提高了程序逻辑的局部性，增强了程序的可靠性，减少了名字冲突。

```js
<script>
  //1.js作用域：就是代码名字（变量）在某个范围内起作用和效果 目的是为了提高程序的可靠性更重要的是减少命名冲突
  //2.js的作用域（es6）之前：全局作用域  局部作用局
  //3.全局作用域：整个scipt标签  或者是一个单独的js文件
  var num = 30;
  console.log(num);
  //4.局部作用域（函数作用域）：在函数内部就是局部作用域  这个代码的名字只在函数内部起效果和作用
  function fn() {
    //局部作用域
    var num = 20;
    console.log(num);
  }
  fn();
  
</script>
```

注意：

js 中没有块级作用域  js 的作用域  全局作用域 局部作用域  现阶段js没有块级作用域

js是在es6的时候新增的块级作用域

块级作用域 {} if{} for {}

## 2.变量的作用域

全局变量

局部变量

```js
<script>
  // 变量的作用域： 根据作用域的不同我们变量分为全局变量和局部变量
  //1.全局变量： 在全局作用域下的变量
  // 注意  在函数内部没有声明直接赋值的变量也属于全局变量
  // var  num = 10; //num是一个全局变量
  // console.log(num);
  // function fn() {
  //   console.log(num);
  // }
  //  fn();
  
  //2.局部变量 在局部作用域下的变量 后者在函数内部的变量就是局部变量、
  //注意  函数的形参也可以看做是局部变量
  function fun() {
    var num1 = 10;
    num2 = 20;
  }
  fun();
  // console.log(num1); //报错   num1未定义
  console.log(num2); //可以输出 未声明为全局变量
  
  //3.从执行效率来看 全局变量和局部变量
  //（1）全局变量只有浏览器关闭的时候才会销毁 比较占用内存资源
  //（2）局部变量  当我们程序执行完毕就会销毁  比较节约内存资源
</script>
```

## 3.作用域链

```js
<script>
  //作用域链： 内部函数访问外部函数的变量，采取的是链式查找的方式来决定取哪个值  这种结构我们称为作用域链
  //就近原则
  var num = 10;
  
  function fn() { //外部函数
    var num = 20;
    function fun() { //内部函数
      console.log(num); //20
    }
  }
</script>
```